# ============================================
# Duckling â€” Environment Configuration
# ============================================

# --- Core ---
DUCKLING_ENV=development
DUCKLING_LOG_LEVEL=DEBUG
DUCKLING_SECRET_KEY=change-me-in-production

# --- Database ---
DATABASE_URL=sqlite+aiosqlite:///./duckling.db

# --- Redis (task queue + pub/sub) ---
REDIS_URL=redis://localhost:6379/0

# --- Slack Bot ---
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_SIGNING_SECRET=your-slack-signing-secret
SLACK_APP_TOKEN=xapp-your-slack-app-token

# --- GitHub ---
GITHUB_TOKEN=ghp_your-github-pat
GITHUB_ORG=your-org
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# --- Bitbucket ---
BITBUCKET_USERNAME=your-username
BITBUCKET_APP_PASSWORD=your-app-password
BITBUCKET_WORKSPACE=your-workspace

# --- Agent Backend ---
# Choose "goose" or "copilot"
AGENT_BACKEND=goose

# --- Goose Agent ---
GOOSE_MODEL=claude-sonnet-4-5-20250929
ANTHROPIC_API_KEY=sk-ant-your-key
GOOSE_MAX_ITERATIONS=25
GOOSE_TIMEOUT_SECONDS=600

# --- GitHub Copilot SDK (alternative agent) ---
# Set AGENT_BACKEND=copilot to use this instead of Goose
COPILOT_MODEL=gpt-5
# BYOK: set provider type to use your own API key ("anthropic", "openai", "azure", or leave empty for default)
COPILOT_PROVIDER_TYPE=
# Only needed if COPILOT_PROVIDER_TYPE=openai
COPILOT_OPENAI_API_KEY=

# --- Firecracker (production) ---
FIRECRACKER_BINARY=/usr/local/bin/firecracker
FIRECRACKER_KERNEL=/var/lib/duckling/vmlinux
FIRECRACKER_ROOTFS=/var/lib/duckling/rootfs.ext4
FIRECRACKER_SNAPSHOT_DIR=/var/lib/duckling/snapshots
WARM_POOL_SIZE=10
WARM_POOL_REFILL_THRESHOLD=3

# --- Docker (demo fallback) ---
DOCKER_IMAGE=duckling/agent-runner:latest
DOCKER_NETWORK=duckling-net
USE_DOCKER_FALLBACK=true

# --- Observability ---
OTEL_EXPORTER_ENDPOINT=http://localhost:4317
SENTRY_DSN=
